<!DOCTYPE html>
<html lang="en-us">

<head>
<meta charset="utf-8">
<title>賓客桌卡</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- theme meta -->
<meta name="theme-name" content="dot" />

<!-- ** CSS Plugins Needed for the Project ** -->

<!-- Bootstrap -->
<link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
<!-- themefy-icon -->
<link rel="stylesheet" href="plugins/themify-icons/themify-icons.css">
<!--Favicon-->
<!-- <link rel="icon" href="images/favicon.png" type="image/x-icon"> -->
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<!-- fonts -->
<link
	href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap"
	rel="stylesheet">
<!-- Main Stylesheet -->
<link href="assets/style.css" rel="stylesheet" media="screen" />

<!-- 引用自定義CSS文件 -->
<link rel="stylesheet" href="countdown/countdown.css">
<link rel="stylesheet" href="index.css">

</head>

<body>

	<!-- 婚紗照 -->
	<div class="album">
		<div class="content-center">
			<a target="_blank" href="https://myalbum.com/album/UBhSG6NhUGQpKz/">
				<img width="460" height="345" style="width: 100%; height: auto;"
				src="https://myalbum.com/album/UBhSG6NhUGQpKz/cover?size=1000"
				border="0" /> <!-- 半透明方框 -->
				<div class="overlay-text">完整版婚紗照</div>
			</a>
		</div>
	</div>

	<!-- 計時器顯示區域 -->
	<div class="countdown">
		<div class="text-center" width="100%">
			<!-- 設置計時器的字體和顯示格式 -->
			<div id="timer" align=center
				style="font-family: Arial, Helvetica; font-size: 10vw; margin-top: 4vw;">00:00:00</div>
		</div>
	</div>

	<hr>
	<!-- 上傳照片 -->
	<section>
		<div class="container">
			<div class="section px-3 bg-white shadow text-center overlay-upload">
				<h2>♥上傳照片吧♥</h2>
				<h3>請上傳您今天拍攝的喜歡的照片，我們在整理後將寄信與您分享</h3>
				<h5>檔案如果太大</h5>
				<h5>上傳時間會比較久，請耐心等候</h5>
				<form id="uploadForm">
					<!-- Bootstrap 4.1.1 custom file input -->
					<div class="form-group">
						<div class="custom-file">
							<input type="file" class="form-control-file" id="fileInput"
								name="file" required style="font-size: 1.2rem;">
						</div>
					</div>
					<!-- Bootstrap 4.1.1 styled button -->
					<button type="submit" class="btn btn-dark"
						style="font-size: 1.2rem; padding: 0.4rem 2rem">上傳</button>
				</form>
			</div>
		</div>

		<!-- Loading overlay with loader animation -->
		<div id="loadingOverlay">
			<div class="loader"></div>
			<div style="color: white; font-size: 2rem; margin-top: 20px;">上傳中，請稍候...</div>
		</div>

	</section>

	<script>
        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const file = document.getElementById('fileInput').files[0];
            if (!file) {
                alert('請選擇一個檔案');
                return;
            }

         // 顯示 loading 畫面
            document.getElementById('loadingOverlay').style.display = 'flex';

            const accessToken = 'sl.u.AFK7dd1iZGVL4EfVhTEiynkWX5-aB7jyXdhbDKJvXxnNQ88cJXRj7jEZkxJGiCC9mbea5_grXhKHchmncLXwMBNXRsMjCnjiWM9zV4VA3tho7G4ynCNZ48-3bwNbbIki1WVVMqtTpPcOYcOF9kCQZgDA0nUCyZXZyiYAXEZulgL_8WzpNuGvCNRAjHz5FIMauwlO51-i-6T4JVn68_TTLzipBln-SRkqDYYq9fZ4YQVL25gwLBPCB9c_XuJkEe4yMvfEJIwrAer7G7Ts04SJpRc46tg0I3iJSLGLRXBEmujUq2xT0jUw64Agyg1lUTC-1-P9LvWB2g5wFGzvpdiC4Ao4n1a5Xqkpvgk5xBWDTqMXZ2Tbni8VRlNWOdO4gJDI4NgGUjelYg53R7-LhAwv3N8yz-kzWMaHizNqDTpg2n3THSrM68guvx82pIS0LJrl57wNR6BBxuvCtJ8XuKvMzMYSvtARVmBlqJyDRsdKhgzaZxEa9M2-uJIaSLCFXS1-3aQwuFEm62qILAVGupRef4gz9sIfXB37-5jQM9myS2q64WQM6R9h4h1JACHVNgADyg0pxjHOeFX1yD1m8UD86rNPADuqVKmSMUh-BOCeNP6zBtUWOdlt_p8IIaOFh1_gP6-VVLiWn6ki0UD_jSv9EKnYOmC0TF3QM79sgvYUBKkybO1EJ_M4KZ_UAfPOVQ7Mx2pIEF3Hl63gAOqBpN1oFx4zepDdSRsmpgL588hcP4RtMtHafYm5zjeooB4zZSo8a4XC-wj_IqJ7CqjHgkjQW0Si7UaH1fKjiGdGgIm9m3JSlcqMrswvNZEWsJ7QzookcLnyvd3t1MJ0IWk5NCl1IOgysj2ULJbJ9jkQytgLB4CF3HCNXlkKAl1aVRZKrfzR7im4TZHHOXYrCQXD4URVCGEHCvS_LsXOvrrf5I9rzRaVCCuLbgNb0BSd9V2-Xe10ubNrKhWT2ZtEwvLQymf_Js2ksnZpaFdZOmP1_frzDkQa8r0SqkIHUqd3QFrg0NaM_uqNRUqLv_w6D2V1ouBPhE-0bIAv__0pqgrxDTmM_uhOmi4tMchjavD0ZVank71NmWRQNep245K7fmj464-fyJ5QQG8gr5eXoSl8F9gb-1DcrTNFh3zyLYrvzZaopWZFqU5rssElKUbKUTJ3GPrE89mUWhcdqHuGO0l8Xn_bI4M5gW9g-p-9evhBdVEO_gwhNq2VMLP_i8BNBtSHci_CkKxg3iWSrqpuzcLWmMzWFh9wvA3q15Dp2zvPY6MPnvjWkzYUX0_dQTtwYcHmQudtfSTepXE6AZdUHIIeeovdIkVccTo3k8wHszMQrdYgXSwF9_7zCcklto6etkJVuR-US44tHT7IjldAjq2oqLXBXVMAAjEjkSshP2jAUhkO-5tG_zTJRgmVzE0FsL3BS7XOUD4a';  // 替換為你的Access Token
            const dbx = new Dropbox.Dropbox({ accessToken: accessToken });

            dbx.filesUpload({ path: '/上傳喜宴照片/' + file.name, contents: file })
                .then(function(response) {
                    alert('檔案已成功上傳！');
                 // 隱藏 loading 畫面
                    document.getElementById('loadingOverlay').style.display = 'none';
                })
                .catch(function(error) {
                    console.error(error);
                    alert('上傳失敗：' + error.message);
                 // 隱藏 loading 畫面
                    document.getElementById('loadingOverlay').style.display = 'none';
                });
        });
    </script>


	<!-- footer -->
	<footer class="section pb-4">
		<div class="content text-center">
			<p class="mb-md-0 mb-4">made by jun</p>
		</div>
	</footer>
	<!-- /footer -->

	<!-- ** JS Plugins Needed for the Project ** -->
	<script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>
	<!-- jquiry -->
	<script src="plugins/jquery/jquery-1.12.4.js"></script>
	<!-- Bootstrap JS -->
	<script src="plugins/bootstrap/bootstrap.min.js"></script>
	<!-- match-height JS -->
	<script src="plugins/match-height/jquery.matchHeight-min.js"></script>
	<!-- Main Script -->
	<script src="assets/script.js"></script>
	<!-- 引用自定義JavaScript文件 -->
	<script src="countdown/countdown.js"></script>
</body>

</html>
